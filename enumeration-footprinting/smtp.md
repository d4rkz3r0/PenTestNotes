---
description: Simple Mail Transfer Protocol - TCP 25, (Sec) - 465,587
---

# SMTP

## SMTP Server Commands

| Command      | Description                                                                                      |
| ------------ | ------------------------------------------------------------------------------------------------ |
| `AUTH PLAIN` | AUTH is a service extension used to authenticate the client.                                     |
| `HELO/EHLO`  | The client logs in with its computer name and thus starts the session.                           |
| `MAIL FROM`  | The client names the email sender.                                                               |
| `RCPT TO`    | The client names the email recipient.                                                            |
| `DATA`       | The client initiates the transmission of the email.                                              |
| `RSET`       | The client aborts the initiated transmission but keeps the connection between client and server. |
| `VRFY`       | The client checks if a mailbox is available for message transfer.                                |
| `EXPN`       | The client also checks if a mailbox is available for messaging with this command.                |
| `NOOP`       | The client requests a response from the server to prevent disconnection due to time-out.         |
| `QUIT`       | The client terminates the session.                                                               |



***

## Telnet

{% code title="Connect to SMTP Server" %}
```sh
telnet TARGET_IP 25
```
{% endcode %}

{% code title="Enumerate Users" %}
```sh
VRFY {username}
```
{% endcode %}

***

### NMAP

{% code title="Default Script Scan" %}
```sh
sudo nmap TARGET_IP -sC -sV -p25
```
{% endcode %}

{% code title="Check Open Relay" %}
```sh
sudo nmap TARGET_IP -p25 --script smtp-open-relay -v
```
{% endcode %}

***

### SMTP-Enum

{% code title="Enumerate via WordList" %}
```sh
smtp-user-enum -M VRFY -U /usr/share/wordlists/seclists/Usernames/FILE.txt -t TARGET_IP -w 10 -v
```
{% endcode %}

\-M - Mode\
\-U - Path\_To\_WordList\
\-t - TARGET\_IP\
\-w - TimeOut Per Attempt in Seconds
